<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel='stylesheet' href="./style.css" type="text/css" media='screen'></link>
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Finger Paint">
<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
<script type="text/javascript" src="./stats.js"></script>
<script type="text/javascript" src="./accounts.js"></script>



</head>
<body>
<script type="text/javascript">

  var menuBar = document.createElement('div');
    $(menuBar).css({
    backgroundColor:'white',
    width:'900px',
    height:'50px'
  });

  var responseDiv = document.createElement('div');
  $(responseDiv).css({
    height:'800px',
    width:'800px'
  });

  //Stats button
  //==============================================
  var statsButton = document.createElement('button');
  $(statsButton).css({
    backgroundColor:'red',
    width:'200px',
    height:'50px'
  });
  $(statsButton).html('Get Stats');
  

  var stats;
  statsButton.onclick = function(){
    $.ajax({
      type: 'POST',
      url: '/mystats',
      success: function(data){
        
        $(responseDiv).html('');

        if(stats)
          stats.destroy();

        if(account)
          account.destroy();

        stats = new Stats(data);

      },
    });
  };
  menuBar.appendChild(statsButton);
  //==============================================
  //Accounts button
  //==============================================
  var accountButton = document.createElement('button');
  $(accountButton).css({
    backgroundColor:'blue',
    width:'200px',
    height:'50px'
  });

  $(accountButton).html('Account');

  var account;
  accountButton.onclick = function(){
    $.ajax({
      type: 'POST',
      url: '/myaccount',
      success: function(data){
        //something happens
        if(account)
          account.destroy();
        if(stats)
          stats.destroy();

        account = new Account(data);

      },
    });
  };
  menuBar.appendChild(accountButton);
  //==============================================

  //Random Game
  //==============================================
  
  var randomButton = document.createElement('button');
  $(randomButton).css({
    backgroundColor:'violet',
    width:'200px',
    height:'50px'
  });
  $(randomButton).html('Random Game');


  $(randomButton).click(function(){
    $.ajax({
      type: 'POST',
      url: '/random_game',
      success: function(){
        //redirect
      },
    });
  });

  menuBar.appendChild(randomButton);
  //==============================================

  //Logut button
  var logoutForm = document.createElement('form');
  $(logoutForm).css({
    height:'50px',
    width:'100px'
  });
  logoutForm.method ='GET';
  logoutForm.action ='/logout';

  var logoutButton = document.createElement('input');
  logoutButton.value = 'Logout';
  $(logoutButton).css({
    backgroundColor:'#088A85',
    width:'100px',
    height:'50px'
  });

  logoutButton.onclick = function(){
    logoutForm.submit();
  }
  
  logoutForm.appendChild(logoutButton);


  menuBar.appendChild(logoutForm);
   //==============================================

  document.body.appendChild(menuBar);
  // document.body.appendChild(responseDiv);

</script>
</body>
</html>
